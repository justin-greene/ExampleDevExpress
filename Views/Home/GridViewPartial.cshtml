@{
    var grid = Html.DevExpress().GridView(settings => {
        settings.Name = "GridView";
        settings.CallbackRouteValues = new { Controller = "Home", Action = "GridViewPartial" };
        settings.CustomActionRouteValues = new { Controller = "Home", Action = "CustomCallbackFromGrid" };

        settings.Settings.ShowGroupPanel = true;
        settings.KeyFieldName = "CustomerID";

        settings.BeforeGetCallbackResult = (sender, e) => {
            if (ViewData["flag"] != null)
            {
                if ((string) ViewData["flag"] == "ungroup")
                {
                    (sender as MVCxGridView).ClearSort();
                }
                else
                {
                    (sender as MVCxGridView).GroupBy(settings.Columns["FirstName"]);
                }
            }
        };
        settings.Columns.Add("FirstName");
        settings.Columns.Add("LastName");
        settings.Columns.Add(new GridViewDataDateColumn() { FieldName = "BirthDate" });
        settings.Columns.Add(new GridViewDataColumn() { FieldName = "CustomerID" });

    });
}
@grid.Bind(Model).GetHtml()